(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{43:function(e,t,a){e.exports=a(83)},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(13),s=a(8),r=a.n(s),i=a(6),l=a(31),m=a(38),u=[],p=Object(i.c)({ownedList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"REMOVE_POKEMON":case"OWNED_LIST":return a;default:return e}}}),d=a(39),f=a.n(d),v=i.d.apply(void 0,[Object(i.a)(m.a)].concat([])),E={key:"Pokemon",whitelist:["ownedList"],storage:f.a},h=Object(l.a)(E,p),k=a(40),b=a(9),N=a(10),_=a(14),w=a(11),g=a(15),O=a(12),y=a(16),j=a(18),P=a.n(j),L=a(23),C=a(24),x=a.n(C),D=(a(66),function(e){var t=e.name,a=e.nickname,n=e.owned,c=e.removeFunction,s=function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))};return o.a.createElement("div",{className:"pokemon__card"},o.a.createElement(O.b,{to:"/detail/".concat(t),className:"pc__link"}),a&&o.a.createElement("div",{className:"pc__item"},o.a.createElement("span",{className:"label"},"Nickname:"),o.a.createElement("span",{className:"value"},s(a))),t&&o.a.createElement("div",{className:"pc__item"},o.a.createElement("span",{className:"label"},"Pokemon:"),o.a.createElement("span",{className:"value"},s(t))),n&&o.a.createElement("div",{className:"pc__item"},o.a.createElement("span",{className:"label"},"Owned:"),o.a.createElement("span",{className:"value"},n())),c&&o.a.createElement("div",{className:"pc__action"},o.a.createElement("button",{type:"button",className:"button button-release",onClick:function(){return c()}},"Release")))}),M=(a(68),function(){return o.a.createElement("div",{className:"loading__wrap"},o.a.createElement("img",{src:"../loading.gif",alt:"loading..."}))}),S=(a(69),function(e){var t=e.prevFunc,a=e.nextFunc,n=e.disablePrev,c=e.disableNext;return o.a.createElement("div",{className:"pokemon__pagination"},o.a.createElement("button",{type:"button",className:"button button-prev",disabled:n,onClick:function(){return t()}},"Prev"),o.a.createElement("button",{type:"button",className:"button button-next",disabled:c,onClick:function(){return a()}},"Next"))}),R="https://pokeapi.co/api/v2";function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=x.a.stringify(e);return fetch("".concat(R,"/pokemon?").concat(t)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}function B(e){return fetch("".concat(R,"/pokemon/").concat(e)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))}var F=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(_.a)(this,Object(w.a)(t).call(this,e))).parseURL=function(e){var t=x.a.parse(e),a=t.offset,n=void 0===a?"":a,o=t.limit;return{offset:n,limit:void 0===o?"":o}},a.getQuery=function(e){var t=document.createElement("a");return t.href=e,t.search},a.fetchListPokemon=function(){var e=Object(L.a)(P.a.mark((function e(){var t,n,o,c,s,r,i=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=a.props.ownedList,a.setState({isLoading:!0}),e.next=5,V(t);case 5:o=e.sent,c=o.next,s=o.previous,r=o.results,a.setState({isLoading:!1,nextPage:a.parseURL(a.getQuery(c)),prevPage:a.parseURL(a.getQuery(s)),listPokemon:r,ownedPokemon:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.matchOwnedData=function(e){var t=a.props.ownedList.find((function(t){return t.pokemon===e}));return t?t.owned:0},a.state={isLoading:!1,nextPage:{},prevPage:{},listPokemon:[],ownedPokemon:[]},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.fetchListPokemon()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.listPokemon,c=t.prevPage,s=t.nextPage;return o.a.createElement("div",{className:"pokemon__app"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"pokemon__list"},n&&n.length>0&&n.map((function(t){return o.a.createElement("div",{className:"pokemon__list-item",key:t.name},o.a.createElement(D,{name:t.name,owned:function(){return e.matchOwnedData(t.name)}}))})),a&&o.a.createElement(M,null)),o.a.createElement(S,{prevFunc:function(){return e.fetchListPokemon(c)},nextFunc:function(){return e.fetchListPokemon(s)},disablePrev:""===c.offset&&!0,disableNext:""===s.offset&&!0})))}}]),t}(o.a.Component),T=Object(c.b)((function(e){return{ownedList:e.ownedList}}),null)(F),I=a(17),U=a(30),Y=a.n(U),A="OWNED_LIST",K="REMOVE_POKEMON",Q=a(42),J=a(32);a(78);Y.a.setAppElement("#root");var W=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(_.a)(this,Object(w.a)(t).call(this,e))).fetchPokemonDetail=function(){var e=Object(L.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.next=3,B(t);case 3:(n=e.sent)&&a.getOwnedCount(n.name),a.setState({isLoading:!1,pokemonData:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getOwnedCount=function(e){var t=a.props.ownedList.find((function(t){return t.pokemon===e}));t?a.setState({ownedCount:t.owned}):a.setState({ownedCount:"0"})},a.handleCatchPokemon=function(e){a.setState({disableButton:!0}),Math.random()>=.5?(Object(I.c)("You caught ".concat(e,"!")),a.setState({isModalOpen:!0})):Object(I.c)("You failed to catch ".concat(e,".")),setTimeout((function(){a.setState({disableButton:!1})}),1500)},a.closeModal=function(){a.setState({isModalOpen:!1})},a.savePokemon=function(){var e=a.props.updateList,t=a.state,n=t.pokemonData,o=t.nicknameValue,c=1*t.ownedCount+1;e({nickname:o,name:n.name,owned:1}),a.closeModal(),a.setState({ownedCount:c,nicknameValue:""})},a.state={isLoading:!1,disableButton:!1,isModalOpen:!1,pokemonData:{},ownedCount:"",nicknameValue:""},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.name;this.fetchPokemonDetail(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.disableButton,c=t.isModalOpen,s=t.pokemonData,r=t.ownedCount,i=t.nicknameValue,l=s.sprites&&s.sprites.front_default,m=s.types,u=s.abilities,p=s.stats,d=function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))};return o.a.createElement("div",{className:"pokemon__app"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"pokemon__detail"},s&&Object.keys(s).length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"pd__head"},o.a.createElement("div",{className:"image-wrap"},l?o.a.createElement("img",{src:l,alt:s.name}):o.a.createElement("img",{src:"../loading.gif",alt:"loading..."})),o.a.createElement("div",{className:"pd__head-info"},o.a.createElement("div",{className:"head__child"},o.a.createElement("span",{className:"title"},"Name:"),o.a.createElement("span",{className:"value"},s.name&&d(s.name))),o.a.createElement("div",{className:"head__child"},o.a.createElement("span",{className:"title"},"Owned:"),o.a.createElement("span",{className:"value"},r)),o.a.createElement("button",{type:"button",className:"button button-catch",onClick:function(){I.c.dismiss(),e.handleCatchPokemon(d(s.name))},disabled:n},"Catch Pokemon!"))),o.a.createElement("div",{className:"pd__info"},o.a.createElement("div",{className:"pd__info-child"},o.a.createElement("span",{className:"title"},"Types"),m&&m.length>0&&m.map((function(e){return o.a.createElement("span",{className:"value",key:e.slot},e.type&&d(e.type.name))}))),o.a.createElement("div",{className:"pd__info-child"},o.a.createElement("span",{className:"title"},"Abilities"),u&&u.length>0&&u.map((function(e){return o.a.createElement("span",{className:"value",key:e.slot},e.ability&&d(e.ability.name))}))),o.a.createElement("div",{className:"pd__info-child"},o.a.createElement("span",{className:"title"},"Stats"),p&&p.length>0&&p.map((function(e){return o.a.createElement("div",{className:"child-item",key:e.stat&&e.stat.name},o.a.createElement("span",{className:"label"},e.stat&&d(e.stat.name)),o.a.createElement("span",{className:"value"},e.base_stat))}))))),a&&o.a.createElement(M,null)),o.a.createElement(Y.a,{isOpen:c,onRequestClose:function(){return e.closeModal()},closeTimeoutMS:200,className:"pokemon__modal pokemon__modal-catch"},o.a.createElement("div",{className:"container"},o.a.createElement("span",{className:"pm__title"},"You Caught ",s.name,"!"),o.a.createElement("div",{className:"pm__img"},o.a.createElement("div",{className:"image-wrap"},l&&o.a.createElement("img",{src:l,alt:s.name}))),o.a.createElement("div",{className:"pm__body"},o.a.createElement("div",{className:"pm__child"},o.a.createElement("span",{className:"label"},"Give it a nickname:"),o.a.createElement("input",{type:"text",value:i,onChange:function(t){return e.setState({nicknameValue:t.target.value})}})),o.a.createElement("div",{className:"pm__child"},o.a.createElement("span",{className:"label"},"You currently own:"),o.a.createElement("span",{className:"value"},r))),o.a.createElement("div",{className:"pm__foot"},o.a.createElement("button",{type:"button",onClick:function(){return e.closeModal()},className:"button button-release"},"Release ",s.name),o.a.createElement("button",{type:"button",onClick:function(){return e.savePokemon()},className:"button button-catch"},"Keep ",s.name))))))}}]),t}(o.a.Component),q={updateList:function(e){return function(t,a){var n=a().ownedList,o=Object(J.a)(n),c=o.find((function(t){return t.pokemon===e.name}));c?(c.owned*=1,c.owned+=1,c.list.push(e),t({type:A,payload:o})):(o.push({pokemon:e.name,owned:e.owned,list:[Object(Q.a)({},e)]}),t({type:A,payload:o}))}}},G=Object(c.b)((function(e){return{ownedList:e.ownedList}}),q)(W),H=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(_.a)(this,Object(w.a)(t).call(this,e))).updateDataList=function(e){var t=a.props.ownedList;a.setState({ownedData:e||t})},a.matchOwnedData=function(e){var t=a.props.ownedList.find((function(t){return t.pokemon===e}));return t?t.owned:0},a.removePokemon=function(e){(0,a.props.releasePokemon)({nickname:e.nickname,name:e.name,callback:function(e){return a.updateDataList(e)}})},a.state={ownedData:[]},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.updateDataList()}},{key:"render",value:function(){var e=this,t=this.state.ownedData;return o.a.createElement("div",{className:"pokemon__app"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"pokemon__list"},t.length>0&&t.map((function(t){return t.list.map((function(t){return o.a.createElement("div",{className:"pokemon__list-item",key:t.nickname},o.a.createElement(D,{key:t.nickname,name:t.name,nickname:t.nickname,owned:function(){return e.matchOwnedData(t.name)},removeFunction:function(){return e.removePokemon(t)}}))}))})),t.length<=0&&o.a.createElement("div",{className:"pokemon__list-empty"},o.a.createElement("span",{className:"title"},"You do not own any Pokemon"),o.a.createElement(O.b,{to:"/",className:"button-redirect"},"Catch a Pokemon!")))))}}]),t}(o.a.Component),z={releasePokemon:function(e){return function(t,a){var n=a().ownedList,o=Object(J.a)(n),c=o.find((function(t){return t.pokemon===e.name}));if(c.owned>1){var s=c.list.findIndex((function(t){return t.nickname===e.nickname}));c.owned-=1,c.list.splice(s,1),e.callback(o),t({type:K,payload:o})}else{var r=o.findIndex((function(t){return t.pokemon===e.name}));o.splice(r,1),e.callback(o),t({type:K,payload:o})}}}},X=Object(c.b)((function(e){return{ownedList:e.ownedList}}),z)(H),Z=(a(79),[{label:"All Pokemons",path:"/"},{label:"My Pokemons",path:"/favorites"}]),$=function(){return o.a.createElement("header",{className:"poke__header"},o.a.createElement("div",{className:"container"},o.a.createElement("ul",{className:"poke__header-nav"},Z.map((function(e){return o.a.createElement("li",{key:e.path},o.a.createElement(O.b,{to:e.path},e.label))})))))},ee=(a(80),a(81),function(){return o.a.createElement(I.b,{position:"top-center",transition:I.a,autoClose:1500,hideProgressBar:!1,newestOnTop:!1,pauseOnHover:!1,closeButton:!1,rtl:!1,pauseOnVisibilityChange:!0,closeOnClick:!0,draggable:!0,className:"toast__container",toastClassName:"toast__white",progressClassName:"toast__progress"})}),te=(a(82),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(_.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return o.a.createElement(O.a,null,o.a.createElement(ee,null),o.a.createElement($,null),o.a.createElement(y.c,null,o.a.createElement(y.a,{path:"/",exact:!0,component:function(e){return o.a.createElement(T,e)}}),o.a.createElement(y.a,{path:"/detail/:name",exact:!0,component:function(e){return o.a.createElement(G,e)}}),o.a.createElement(y.a,{path:"/favorites",exact:!0,component:function(e){return o.a.createElement(X,e)}})))}}]),t}(o.a.Component)),ae=function(){var e=Object(i.e)(h,v);return{store:e,persistor:Object(l.b)(e)}}(),ne=ae.store,oe=ae.persistor;r.a.render(o.a.createElement(c.a,{store:ne},o.a.createElement(k.a,{loading:null,persistor:oe},o.a.createElement(te,null))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0a968f27.chunk.js.map